retrospectives: use code retro.R

go into the m21 and then type
"make"
This uses the Makefile.
mod.ctl is used.
fm.dat is where the datafile is actually being referenced.

for mcmc, go to the directory and type make mcmc.
Then to complete it, ./fm -mceval in that directory.

If you get large odd files like unbounded.rep or rwm_lp.txt, just delete them.

Be sure to put large data download files in your /Documents directory.
MCMC results are in evalout.rep and should be 50000*around 221 in 2022.
May need to update hdr.dat with current years. Total Biomass, q, and SSB all are indexed by year and may need current year added. 

once you run the mcmc and mceval, save the mceval with the model name as a .csv and add the headers from hdr.rep. I just read it in as a .csv. Then rerun the model (not an mcmc model) (just make in that folder).

Line 1264:        & \multicolumn{2}{c|}{Model 18.2 (2021)}  & \multicolumn{2}{c}{Model 18.2 (2020)}}               \\

A big part of this year was thinking about how fishery and survey weights were added to model. Old survey data and fishery data had some algorithm applied. I used 2008-2020 Jims sampler protocol for fishery weights. I also tried pure survey weights for the survey weights part....

For the survey we have weights and ages for 1987, 1994, 1999-2019.

It appears weight at age is increasing (see age 8 plot, which had the most ages.

We calculated two age weight relationships. One for pre-2010 and one for 2010-2019. Gaps prior to 2010 were filled with the mean weight at age for the pre 2010 time period. Gaps after and including 2010 were filled with the mean weight at age for the 2010-2019 time period.


#tempanom
-0.638037531	0.526697058	-0.440862567	-0.267789302	-0.961537024	0.653209952	-0.319793388	0.423992166	-0.099450287	0.320102072	-0.709351441	0.542314501	-1.179475895	-1.000716647	0.845506028	0.036357178	0.910698588	-2.136828271	-0.487321824	-0.069391739	0.809441454	1.265642048	0.895781486	0.965542386	-0.982460966	-0.998258015	-1.543547743	-1.469088298	-1.515221062	-0.201821847	-1.832556587	-0.877140741	0.786285366	0.839543759	2.344168729	0.069195568	2.001237186	2.354461584	1.140474068
#startdatedev
-5.58974359	3.41025641	5.41025641	4.41025641	-0.58974359	-7.58974359	0.41025641	2.41025641	0.41025641	3.41025641	1.41025641	0.41025641	-0.58974359	0.41025641	4.41025641	3.41025641	5.41025641	-11.58974359	-11.58974359	-5.58974359	-1.58974359	-1.58974359	1.41025641	-0.58974359	-1.58974359	7.41025641	0.41025641	-1.58974359	3.41025641	1.41025641	0.41025641	5.41025641	4.41025641	-1.58974359	-3.58974359	0.41025641	-0.58974359	-0.58974359	-3.58974359
#interaction
3.566466201	1.796172018	-2.385179532	-1.181019485	0.567060296	-4.957696044	-0.131197287	1.021929836	-0.040800118	1.091630141	-1.000367416	0.222488001	0.695588348	-0.410550419	3.728898382	0.1239873	4.927112876	24.76529176	5.647934986	0.387882029	-1.286804362	-2.012046332	1.263281583	-0.569422433	1.561861023	-7.397347854	-0.633250356	2.335473704	-5.167292341	-0.284620554	-0.751818087	-4.745556318	3.467720077	-1.334659309	-8.414964668	0.028387925	-1.180216802	-1.388528626	-4.094009476
#temp
1.840697216	3.005431805	2.037872179	2.210945445	1.517197723	3.131944699	2.158941359	2.902726913	2.37928446	2.798836818	1.769383306	3.021049248	1.299258852	1.4780181	3.324240775	2.515091925	3.389433335	0.341906476	1.991412923	2.409343008	3.288176201	3.744376795	3.374516233	3.444277133	1.496273781	1.480476732	0.935187004	1.009646449	0.963513684	2.2769129	0.64617816	1.601594006	3.265020113	3.318278506	4.822903476	2.547930315	4.479971933	4.833196331	3.619208815
																						